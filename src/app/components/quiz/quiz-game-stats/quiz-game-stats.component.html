@let _questions = questions().length;

<div class="stats">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Your performance</mat-card-title>
      <mat-card-subtitle>Learn how many questions you got right</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <mat-list>
        @for (stat of statsStruct(); track stat.icon) {
        @let count = stat.count;
        @let show = stat.show ? stat.show() : true;
        @let label = stat.extraLabel;
        @let icon = stat.icon;

        @if (show) {
        <mat-list-item>
          <mat-icon matListItemIcon>{{ icon }}</mat-icon>
          <div matListItemTitle>
            <span class="question-count">{{ count }}</span>
            <span class="label">
              {{ label }}
            </span>
            <span class="percent">
              ({{ count / _questions | percent: '1.0-0' }})
            </span>
          </div>
          <div matListItemLine>out of {{_questions}} questions</div>
        </mat-list-item>
        }
        }

      </mat-list>
    </mat-card-content>
  </mat-card>
</div>